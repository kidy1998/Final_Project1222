<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>활동 일지</title>

    <link rel="stylesheet" th:href="@{/css/PM/activityLog.css}">

    <script th:src="@{https://kit.fontawesome.com/f821b57119.js}" crossorigin="anonymous"></script>
</head>
<body>
    <main th:with="pagination=${map.pagination}, pmList=${map.pmList}">
    <section>
        <!-- 헤더 -->
        <th:block th:replace="~{common/header}"></th:block>

        <!-- 내용 -->
        <div id="content">
            <!-- 왼쪽 여백 -->
            <div id="left-gap"></div>

            <!-- 콘텐츠 영역 -->
            <div id="content-section">
                <!-- 제목 영역 -->
                <div id="title-section">
                    <div id="bone-section">
                        <img th:src="@{/images/PM/bone.png}" id="bone">
                    </div>
                    <div id="title-sec">
                        오늘의 활동 일지
                    </div>
                </div>

                <!-- 내용 영역 -->
                <div id="cont-section">
                    <div id="leftMove-section">
                        <button class="fa-solid fa-chevron-left" style="color: #6b6b6b;" id="leftMove-btn"></button>
                    </div>
                    
					<th:block th:if="${#lists.size(pmList) == 0}">
						<div>활동일지 내역이 존재하지 않습니다.</div>
					</th:block>
                    <th:block th:unless="${#lists.size(pmList) == 0}">	
						<th:block th:each="pmList, pm : ${pmList}">	
			                <div id="one">
                        		<th:block th:if="${pm.count == 1}">
			                        <div class="img1" th:text="${pm.count}">
			                            <img th:src="${pm.acitivityImg}" class="imgs">
			                        </div>
			                        <div class="heart1">
			                            <button class="fa-regular fa-heart" style="color: #f55c91;" id="emptyHeart-btn"></button>
			                        </div>
		                		</th:block> 
                        		<th:block th:if="${pm.count == 2}">	
			                        <div class="img2" th:text="${pm.count}">
			                            <img th:src="${pm.acitivityImg}" class="imgs">
			                        </div>
			                        <div class="heart2">
			                            <button class="fa-solid fa-heart" style="color: #f55c91;" id="fullHeart-btn"></button>
			                        </div>
		                		</th:block>   
		                    </div>   
		                    <div id="two">
                        		<th:block th:if="${pm.count == 3}">
			                        <div class="img1" th:text="${pm.count}">
			                            <img th:src="${pm.acitivityImg}" class="imgs">
			                        </div>
			                        <div class="heart1">
			                            <button class="fa-regular fa-heart" style="color: #f55c91;" id="emptyHeart-btn"></button>
			                        </div>
		                		</th:block>  
                        		<th:block th:if="${pm.count == 4}">
			                        <div class="img2" th:text="${pm.count}">
			                            <img th:src="${pm.acitivityImg}" class="imgs">
			                        </div>
			                        <div class="heart2">
			                            <button class="fa-regular fa-heart" style="color: #f55c91;" id="emptyHeart-btn"></button>
			                        </div>
		                		</th:block>  
		                    </div> 
	                    	<div id="three">
	                        	<th:block th:if="${pm.count == 5}">
			                        <div class="img1">
			                            <img th:src="${pm.acitivityImg}" class="imgs">
			                        </div>
			                        <div class="heart1">
			                            <button class="fa-regular fa-heart" style="color: #f55c91;" id="emptyHeart-btn"></button>
			                        </div>
		                		</th:block>  
	                        	<th:block th:if="${pm.count == 6}">
			                        <div class="img2">
			                            <img th:src="${pm.acitivityImg}" class="imgs">
			                        </div>
			                        <div class="heart2">
			                            <button class="fa-regular fa-heart" style="color: #f55c91;" id="emptyHeart-btn"></button>
			                        </div> 
		                		</th:block>  
		                    </div>
		                    <div id="four">
	                        	<th:block th:if="${pm.count == 7}">
			                        <div class="img1">
			                            <img th:src="${pm.acitivityImg}" class="imgs">
			                        </div>
			                        <div class="heart1">
			                            <button class="fa-regular fa-heart" style="color: #f55c91;" id="emptyHeart-btn"></button>
			                        </div>
		                		</th:block>  
	                        	<th:block th:if="${pm.count == 8}">
			                        <div class="img2">
			                            <img th:src="${pm.acitivityImg}" class="imgs">
			                        </div>
			                        <div class="heart2">
			                            <button class="fa-regular fa-heart" style="color: #f55c91;" id="emptyHeart-btn"></button>
			                        </div> 
		                		</th:block>  
		                    </div>
						</th:block> 
					</th:block>     
                    
                    <div id="rightMove-section">
                        <button class="fa-solid fa-chevron-right" style="color: #6b6b6b;" id="leftMove-btn"></button>
                    </div>
                </div>

                <!-- 등록하기 영역 -->
                <div id="register-sec">
                    <a th:href="@{/pm/activityLogRegister}">
						<!-- session.loginMember가 null 일 경우 -->
						<th:block th:if="${session.loginMember == null}"></th:block>
						
						<!-- session.loginMember가 null 이 아닐 경우 -->
						<th:block th:if="${session.loginMember}">
							<button th:if="${session.loginMember.adminYn == 'Y'}" type="button" id="register-btn">등록하기</button>
						</th:block>
					</a>
                </div>
            </div>

            <!-- 오른쪽 여백 -->
            <div id="right-gap">
                <a th:href="@{/#}"><img th:src="@{/images/chat.png}" class="fixed-image" id="chat-image"></a>
                <a th:href="@{/#}"><img th:src="@{/images/donation.png}" class="fixed-image" id="donate-image"></a>
            </div>
        </div>

        <!-- 풋터 -->
        <th:block th:replace="~{common/footer}"></th:block>
    </section>

    <script th:src="@{/js/PM/activityLog.js}"></script>
</body>
</html>